<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>SQL</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="d111f8f7-ae5f-47ee-b395-a8bd47b475ea" class="page sans"><header><img class="page-cover-image" src="https://www.notion.so/images/page-cover/nasa_the_blue_marble.jpg" style="object-position:center 50%"/><div class="page-header-icon page-header-icon-with-cover"><img class="icon" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhZ7jQB0fn6VNAY2xJ-CByRCoPiF20keat9w&amp;usqp=CAU"/></div><h1 class="page-title">SQL</h1></header><div class="page-body"><p id="13a2d8f0-dd32-4981-a34f-2737e2a0e50f" class="">
</p><pre id="9ba6e5f7-81ab-4b61-8110-8bbb0ef57af3" class="code"><code>$ brew services start postgresql

$ brew services stop postgresql</code></pre><p id="48be89c8-94b3-4d6f-a474-8f3ce032fd31" class="">
</p><p id="df6747b8-da4e-4602-9b29-1b4a7c0d6794" class="">
</p><nav id="181138f5-7ae1-49aa-b90f-e91381d3794b" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#09603d42-2b78-4774-9756-a0912559a381">QUICK REFERENCE</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#77dafffb-7291-400d-a52a-3d6b47618ee3"><strong>Data Manipulation Language</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#0f2bc8dd-15c5-4806-90b5-d4c49602ca8d">insert</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#f7ead6e3-13a3-49cf-8613-1c668a2f8c01">delete</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ab43255e-f46d-49a1-bd4c-ce2d777dc0c8">update</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#46e13329-104f-475f-a952-d43521bdf2cd">#Create database</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#74aab091-4269-45a1-8794-325c4984e8ec">tips:</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#790a768a-5f2c-4cf8-85aa-f633bb560136">DISTinct</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#b4a8106e-147b-4ad7-98d4-e5179d9cfec1">#GROUP BY &amp; HAVING</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c4b68f5f-1254-408d-9810-4676a5a462d8">#ALTER TABLE</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#814b583a-9d45-4f69-867d-60b67b32bb56">describe table</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a53793c9-2222-4d9c-897f-a38a5c64484f">drop table </a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#f5f75422-1246-4a8f-92d7-e07b7ff91d1f">primary key</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#591a3ee2-837c-4ea2-8bd5-c4346b81aaae">foreign key</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#e7c16d66-3292-43ec-8665-9f6de83574df">MIGRATION &amp; SEEDING</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#552777bc-0523-465f-be0f-1b9bf5944780">#INNER JOIN</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#cd695416-f619-4450-9e2a-9328b0433f7e">#OUTER JOIN</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#287416b2-0592-4918-ad2a-081b583d8a47">#COLUMN DEFINITIONS</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#8d4ad1bc-ee7e-44e9-b1b4-84e9819b0b19">#PostgreSQL Subquery</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#892609a5-026b-4767-a753-b8982a7cecbc"><strong>As a column in </strong><code><strong>SELECT</strong></code></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#dd4dde65-054e-449e-bfba-62cf5b0a8b69"><code><strong>FROM</strong></code><strong> sub select table</strong></a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#a9ccd144-0a79-4280-a687-6a3d0f139d99">WHERE <code>IN</code></a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#ae6e0daf-e6b5-4c19-90a8-c8476467732e">ERD conventions</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#53312b4e-3ad7-4d57-8005-aa563cec62ae">Data Definition Language {DDL}</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#edba5b6d-1ecd-491a-a408-8bbcf09772de">SQL injection</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#a66cead3-0ed1-4421-a4a0-dd823997beec">SQL test</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2e8587b1-2a1b-47fe-a398-4c014c1ae42c">some null values forced to 0</a></div></nav><p id="b14910f1-02c3-42c8-b226-dac03c97264b" class="">
</p><p id="611c39cf-5ee1-417b-bbd0-1ec94ce66728" class="">
</p><p id="f8a5a71e-1575-4a88-86ba-c0be723b35f4" class="">words of wisdom and warning:</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="f9022fcb-576f-452b-944c-f9005672d584"><div style="font-size:1.5em"><span class="icon">❗</span></div><div style="width:100%">Never write an <code>UPDATE</code> or <code>DELETE</code> query without a <code>WHERE</code> clause.</div></figure><blockquote id="47907dfd-ae31-46d0-accc-000656d91b04" class="">“data is royalty.”</blockquote><p id="312b1194-430a-4933-b05e-aba41f49c778" class="">
</p><h1 id="09603d42-2b78-4774-9756-a0912559a381" class="">QUICK REFERENCE</h1><ul id="5511fd8c-6501-4296-9077-42aad592b0c4" class="bulleted-list"><li style="list-style-type:disc">Primary key column:<ul id="91fa4713-df51-451d-98d2-44957571f84e" class="bulleted-list"><li style="list-style-type:circle">Use the name <code>id</code> and then <code>SERIAL PRIMARY KEY</code>.</li></ul></li></ul><ul id="1d80c79c-ed03-41a7-9796-e7895f1fdfb8" class="bulleted-list"><li style="list-style-type:disc">Foreign key columns:<ul id="13e3d602-f487-4fb6-91f8-a7507b1cb9e0" class="bulleted-list"><li style="list-style-type:circle">Add <code>_id</code> to the singular name of the column you are referencing.</li></ul><ul id="8925fdaa-969e-4286-84d2-3dcf597c4456" class="bulleted-list"><li style="list-style-type:circle">If the primary key is <code>SERIAL</code>, then the foreign key should be <code>INTEGER</code>.</li></ul><ul id="ffd3c94c-7065-421f-8169-790545e4bee6" class="bulleted-list"><li style="list-style-type:circle">You also should create the foreign key with <code>REFERENCES table_name(id) ON DELETE CASCADE</code>.</li></ul></li></ul><ul id="6376ba20-ae67-4edd-bb74-2ecb34893bc0" class="bulleted-list"><li style="list-style-type:disc">Names, emails, usernames and passwords can all be stored as <code>VARCHAR(255)</code>. Students to cohorts would be <code>cohort_id</code>. The type would be <code>INTEGER</code> .</li></ul><ul id="83ebdacb-3472-447d-8c2a-e03b3fdefd8f" class="bulleted-list"><li style="list-style-type:disc">Dates would use the <code>DATE</code> type. If we needed <a href="https://www.postgresql.org/docs/current/static/datatype-datetime.html">date and time</a>, use <code>TIMESTAMP</code>.</li></ul><ul id="723c74e8-1d57-49b2-9dd5-f0f7a78ad592" class="bulleted-list"><li style="list-style-type:disc">Numbers:<ul id="671c2d1b-eba8-4c2c-b781-56a3841f292f" class="bulleted-list"><li style="list-style-type:circle">We will use <code>INTEGER</code> to represent most <a href="https://www.postgresql.org/docs/current/static/datatype-numeric.html">numbers</a>. There are other <em>sizes</em> of integers as well.</li></ul><ul id="4ab28416-0ea2-4ed0-9e4a-22dd981f8660" class="bulleted-list"><li style="list-style-type:circle"><strong>SMALLINT</strong> -32,768 to 32,767 (thirty-two thousand)</li></ul><ul id="408ff0c4-583c-41e9-8742-e1441731d8c4" class="bulleted-list"><li style="list-style-type:circle"><strong>INTEGER</strong> -2,147,483,648 to 2,147,483,647 (two billion)</li></ul><ul id="0974a3b0-e0fd-43ca-8ac4-82511e67def9" class="bulleted-list"><li style="list-style-type:circle"><strong>BIGINT</strong> -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807 (nine quintillion)</li></ul><ul id="b966eff2-2fbf-46d4-948d-d97faf7a88f4" class="bulleted-list"><li style="list-style-type:circle"><strong>SERIAL</strong> 1 to 2,147,483,647 (auto incrementing)</li></ul></li></ul><ul id="b742c8b2-cf63-4fb8-930b-cfcd66df00f4" class="bulleted-list"><li style="list-style-type:disc">Dates, Phone Numbers &amp; Currency<ul id="7c7ac2b8-ce43-4e01-8327-c4570f379616" class="bulleted-list"><li style="list-style-type:circle">Become familiar with the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> date formatting standard. The string <code>&#x27;2018-02-12&#x27;</code> uses this format to represent &#x27;February 12th, 2018&#x27;. Year, month and then day. Dates should be stored consistently. Apply timezones and formatting when displayed to the user.</li></ul><ul id="9178362b-3ba7-4aa8-aa88-d4b88cf29553" class="bulleted-list"><li style="list-style-type:circle">Store phone numbers as <code>VARCHAR</code>, there are so many possible formats. The number <code>214 748 3647</code> hits our <code>INTEGER</code> limit.</li></ul><ul id="d4ce6a91-3fef-4100-b864-cfaf92eca551" class="bulleted-list"><li style="list-style-type:circle">Store currency as an integer representing cents. Use a <code>BIGINT</code> if you need values over $21 million dollars.</li></ul></li></ul><p id="5761920d-b63a-4436-a03e-45cde5c507c9" class="">
</p><p id="8dd299ea-091f-465c-a102-bcbca8f732c0" class="">
</p><p id="e6355525-a0b6-4409-8556-63fb9ef99328" class="">
</p><h1 id="77dafffb-7291-400d-a52a-3d6b47618ee3" class=""><strong>Data Manipulation Language</strong></h1><hr id="f9c380b8-abe5-413c-9e09-60c14080c49f"/><h2 id="0f2bc8dd-15c5-4806-90b5-d4c49602ca8d" class="">insert</h2><hr id="bd25e52c-958b-4aa9-b1c9-a6f53cd94f68"/><p id="c9eaad7c-eac0-4118-b8eb-0ded0a64b021" class="">
</p><pre id="e5884c19-aa8c-4e8f-b0e6-6db1e9b07c6c" class="code code-wrap"><code>INSERT INTO TABLE_NAME (column1, column2, column3,...columnN)
VALUES (value1, value2, value3,...valueN);</code></pre><p id="35fce052-add1-4bee-b46a-11b7731cc1fe" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="93650682-74c9-497f-b69b-6298da4acad9"><div style="font-size:1.5em"><span class="icon">☝🏽</span></div><div style="width:100%">Add <code>RETURNING *;</code> to the end of an <code>INSERT</code> query to return the objects that were inserted. This is handy when you need the auto generated <code>id</code> of an object you&#x27;ve just added to the database.</div></figure><h2 id="f7ead6e3-13a3-49cf-8613-1c668a2f8c01" class="">delete</h2><hr id="e4f694e1-f6d2-4f9a-8d79-909a8f15e30a"/><p id="f4daf18d-3fb8-4572-9381-0b34d9b81f5d" class="">
</p><pre id="f34536b1-078a-451e-8dc3-b079b73f9f64" class="code"><code>DELETE FROM table_name
WHERE [condition];

-- Always include a WHERE clause when deleting.</code></pre><p id="eeb255dc-6dbf-4151-b759-d79bc13ee1e0" class="">You can combine N number of conditions using AND or OR operators. otherwise all records are deleted.</p><p id="24e34292-5efd-4fbe-a719-cbc1658f8ac3" class="">
</p><figure id="6a24873c-9c77-404f-8a32-e19ac50e67aa"><a href="https://www.khanacademy.org/computing/computer-programming/sql/sql-basics/pt/creating-a-table-and-inserting-data" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Creating a table and inserting data | SQL basics | Intro to SQL: Querying and managing data | Computer programming | Computing | Khan Academy</div><div class="bookmark-description">If you&#x27;re seeing this message, it means we&#x27;re having trouble loading external resources on our website. If you&#x27;re behind a web filter, please make sure that the domains *.kastatic.org and *.kasandbox.org are unblocked. To log in and use all the features of Khan Academy, please enable JavaScript in your browser.</div></div><div class="bookmark-href"><img src="https://www.khanacademy.org/favicon.ico?logo" class="icon bookmark-icon"/>https://www.khanacademy.org/computing/computer-programming/sql/sql-basics/pt/creating-a-table-and-inserting-data</div></div><img src="https://cdn.kastatic.org/googleusercontent/A2IhGKzbeF51tRW0WvVZfMi5e08VM4v1heO9urr97YeOHDsH38yBSkMIpMllXpANPBmHu8MkAq9EzPVmMUhrHis" class="bookmark-image"/></a></figure><p id="de5f3ba9-c9d9-4b58-a337-f8833ee53c1e" class="">
</p><ul id="e5b784e1-b486-404e-881e-128885bff81b" class="bulleted-list"><li style="list-style-type:disc">check out the documatation tab for shortcuts and good reference</li></ul><p id="ee1c0b96-24d4-4c58-911e-235422e03804" class="">
</p><ul id="c33cd5d0-6f72-48bf-8c19-6afd6027c7fc" class="bulleted-list"><li style="list-style-type:disc"><code>*</code> is all <code>entities</code></li></ul><ul id="5a0e7f18-7851-4e4b-96e3-833fed57cf7f" class="bulleted-list"><li style="list-style-type:disc">group by and order by can use the alias</li></ul><p id="2289b436-d958-4ce4-bc0b-f6e81d6e5f6e" class="">
</p><p id="7c6543dc-1237-427d-b73a-22fff321523e" class="">
</p><h2 id="ab43255e-f46d-49a1-bd4c-ce2d777dc0c8" class="">update</h2><hr id="3a6d0bd3-d834-4ab6-a9b2-aa1b1377dbc4"/><p id="887be7e4-c588-4038-8863-91355c2f9cdd" class="">
</p><pre id="f979a92b-1823-4376-bbd3-5e4e358e4bce" class="code"><code>UPDATE table_name
SET column1 = value1, column2 = value2...., columnN = valueN
WHERE [condition];</code></pre><p id="32152a32-9ec9-488b-90f2-2fd3a053cc6e" class="">You can combine N number of conditions using the AND or the OR operators.</p><p id="9ef48561-103d-4006-99c8-704ddef98dda" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="453b1360-2ccf-46f0-bcf8-9b160329cb11"><div style="font-size:1.5em"><span class="icon">❗</span></div><div style="width:100%">if you dont use a WHERE condition then you will update all the rows</div></figure><p id="68b1ea27-b2ed-46c1-9163-d3b762d2714a" class="">
</p><h1 id="46e13329-104f-475f-a952-d43521bdf2cd" class="">#Create database</h1><hr id="3c940d63-5400-4494-a70d-d1eb5c99675d"/><p id="60b18940-f923-4c3e-9283-2dfbbad849f1" class="">
</p><pre id="4bea4d73-2019-4129-9e32-ad9a84acc317" class="code"><code>CREATE DATABASE __name__(
column DEFINITION,
);

-- connect to the database
\c __name__</code></pre><p id="ef164f2d-ca41-438d-94c4-63612596a265" class="">
</p><p id="d2268514-43fc-40ed-aef4-66612df6723b" class=""><code>not null, default, or references</code> are constraints.</p><p id="048bc632-3c6a-44c7-bce9-ccf1c12f8fe1" class="">
</p><p id="4df4e965-a706-4de1-b4e4-b97b667fdad5" class="">
</p><h2 id="74aab091-4269-45a1-8794-325c4984e8ec" class="">tips:</h2><figure id="2aab767b-8e90-4e13-85d3-bfe83c6f4666" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled.png"><img style="width:757px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled.png"/></a></figure><p id="35584a4a-fe87-41a0-8a20-0e8560229484" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="1d76fe5f-2ec5-43e7-9afa-df0049c7c43f"><div style="font-size:1.5em"><span class="icon">❗</span></div><div style="width:100%">use defaults for many things, like ratings

and not null for almost everything: info related

AND  BOOLEAN defautl true</div></figure><p id="33538291-684c-4a27-b082-3865805b2244" class="">
</p><p id="8b9d21b2-66d2-4937-99ca-a086be55fc5a" class="">
</p><p id="a223f953-cc88-45fa-a572-89048e78e595" class="">
</p><h1 id="790a768a-5f2c-4cf8-85aa-f633bb560136" class="">DISTinct</h1><hr id="d0ddb9e8-bc41-481a-aa73-968e060c0e18"/><p id="97c557f3-df9b-4891-bbb0-cc4d88eaf010" class="">
</p><ul id="e3bf0d5c-0efa-4d3a-a103-058288310e78" class="bulleted-list"><li style="list-style-type:disc">just get one of a repeatedly appearing name, <ul id="a378f6e5-7992-4b9a-a3d1-cbf97044bbfc" class="bulleted-list"><li style="list-style-type:circle">good to use when other data required is also repeated.<ul id="a6158d6e-a93a-402f-b2fd-da59e564388d" class="bulleted-list"><li style="list-style-type:square">almost like a isIncluded() type function</li></ul></li></ul></li></ul><p id="646cac8c-bbcc-4585-8357-a628c6223c30" class="">
</p><pre id="fbc1167c-03c4-4ae7-b7c3-a4d89ace1380" class="code"><code>-- Get the name of all teachers that performed an assistance request during a cohort.

SELECT DISTINCT teachers.name as instructor, cohorts.name as cohort
FROM assistance_requests
JOIN teachers ON teachers.id = teacher_id
JOIN students ON students.id = student_id
JOIN cohorts ON cohorts.id = cohort_id



WHERE cohorts.name = &#x27;JUL02&#x27;
ORDER BY teachers.name;</code></pre><p id="f4f90a6e-b038-44db-9b50-c3c6427ba665" class="">
</p><p id="e267dcbe-b5f8-4aef-8f75-252989250f00" class="">
</p><p id="32d41b57-949a-4b11-9384-cc06e7bf1933" class="">
</p><h1 id="b4a8106e-147b-4ad7-98d4-e5179d9cfec1" class="">#GROUP BY &amp; HAVING</h1><hr id="8e3969f7-5ea3-49fb-b5f3-889c60433139"/><p id="66a6fd71-9270-4fbe-bddd-1ad524c7e242" class="">The <code>HAVING</code> clause is evaluated before the <code>SELECT</code> so we can&#x27;t use the alias <code>total_submissions</code> alias that is created in the <code>SELECT</code>.</p><p id="1f27a8b1-70f2-45f5-867c-c039b6432a9a" class="">
</p><ul id="ac659460-a233-44cb-a5ff-035a47f1f0db" class="bulleted-list"><li style="list-style-type:disc"><code>GROUP BY</code> allows us to combine the results based on a column so an aggregate can be applied to each group.</li></ul><ul id="78052ef9-d2f0-449a-b8cc-39e20d920fef" class="bulleted-list"><li style="list-style-type:disc"><code>HAVING</code> allows us to filter our results based on the result of an aggregate function.</li></ul><p id="7e8cbf20-5b98-4f28-9529-3ae06d99ac2c" class="">
</p><p id="620d46dd-29da-428c-9915-06ffce00822a" class="">The <code>HAVING</code> clause is like <code>WHERE</code> but works on aggregated data. Our <code>WHERE</code> clause works on normal data <code>students.end_date</code> and our <code>HAVING</code> clause works on the aggregated data <code>count(assignment_submissions.*)</code>.</p><p id="ef855afd-445e-4a73-95ae-3015b052b462" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="9b40ca79-96e2-4fdb-b31c-35b6129afb99"><div style="font-size:1.5em"><span class="icon">☝🏽</span></div><div style="width:100%">Multiple columns can be declared in the group, so if you are using any aggreagate function, then you must include every column in the group, separated by a comma.

THat is unless you just group by id only,, that seems to work without having to claim the other columns</div></figure><p id="f43f0a15-6465-4dfb-9ebc-f2699a5d7385" class="">
</p><p id="8726a9e1-183e-4354-bfc7-d7b62f7545cf" class="">
</p><h1 id="c4b68f5f-1254-408d-9810-4676a5a462d8" class="">#ALTER TABLE</h1><hr id="587bdc3e-86aa-4ac3-b1a8-4b1533c7c021"/><p id="69f37556-e2d9-4bd2-8e35-ae6587467ea2" class=""><a href="https://www.w3resource.com/PostgreSQL/postgresql-alter-table.php">https://www.w3resource.com/PostgreSQL/postgresql-alter-table.php</a></p><pre id="2383bd3e-785d-4c5f-a0ea-0884c223ced8" class="code"><code>ALTER TABLE table_name
ALTER COLUMN column_name [SET DATA] TYPE new_data_type;

ALTER TABLE table_name
ALTER COLUMN column_name1 [SET DATA] TYPE new_data_type,
ALTER COLUMN column_name2 [SET DATA] TYPE new_data_type,
...;

-- or chain them

ALTER TABLE users ADD COLUMN name VARCHAR(255), ADD COLUMN  birth_year SMALLINT, ADD COLUMN  member_since TIMESTAMP;</code></pre><p id="1a9df3e4-3ad1-47b2-b688-6f067180f637" class="">
</p><p id="114ed781-5ab6-49ea-a2bd-e082d83b0ea6" class="">
</p><p id="3f5b02d1-40a8-4701-8804-b8c02bffe5dd" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="7caf6615-9104-4360-977f-05bbc4175985"><div style="font-size:1.5em"><span class="icon">☝🏽</span></div><div style="width:100%">SERIAL for id has to be set at the beginning, you can’t shove it in there later.</div></figure><h1 id="814b583a-9d45-4f69-867d-60b67b32bb56" class="">describe table</h1><hr id="e71eec23-873d-44ad-b562-7a391439112b"/><p id="4e63256d-bccb-43d1-bd18-4f8deb6a4c09" class="">
</p><pre id="286ca625-5501-4386-94a9-66f260c0e94d" class="code"><code>-- describe table
\d+ table_name
\d table_name

-- display tables
\dt</code></pre><p id="85ab4171-644f-4a2d-864b-bb360a871203" class="">
</p><p id="d2b44fc4-f952-46a7-ae41-50b282f6968d" class="">
</p><h2 id="a53793c9-2222-4d9c-897f-a38a5c64484f" class="">drop table </h2><hr id="d61ece5b-8f3f-4795-b842-c2dad939b42b"/><p id="3e815c63-4da2-40f5-a200-7596d4367ffb" class="">
</p><p id="041f564d-6601-4114-be01-a6b8cf42ab5a" class="">check if the table exists first before you drop the table</p><ul id="3714467d-fa5c-4177-8b0d-fa4c04dd8a4a" class="bulleted-list"><li style="list-style-type:disc">use acoution becaise you lose all of your data. and you need to keep records sometimes. for legal purposes.</li></ul><pre id="f464f582-8a03-4176-b04a-aab401d51597" class="code"><code>DROP TABLE IF EXISTS users CASCADE;</code></pre><p id="ff25adf9-7c79-4725-b589-2933aa67f577" class="">
</p><h1 id="f5f75422-1246-4a8f-92d7-e07b7ff91d1f" class="">primary key</h1><hr id="25876610-dd48-48bd-80cf-d0f97d5ebd9c"/><p id="ea9df9c7-5ac1-4868-af3c-cb5c9d703668" class="">
</p><pre id="4c85803e-ffe8-42f8-a897-7da5c322fbeb" class="code"><code>id SERIAL PRIMARY KEY NOT NULL,</code></pre><p id="96a33f1e-ad1d-4386-a53b-f3bc97374a49" class="">
</p><h1 id="591a3ee2-837c-4ea2-8bd5-c4346b81aaae" class="">foreign key</h1><hr id="6d26b552-5449-41d9-9b58-cf5cba375b33"/><p id="c72140be-957a-4400-9188-d947ac7f7000" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="70f6a483-d3b9-40cc-855a-76d87daa5858"><div style="font-size:1.5em"><span class="icon">☝🏽</span></div><div style="width:100%">The type of the primary key must be the same type for the foreign key. Since <code>SERIAL</code> is actually just an <code>INTEGER</code>, our foreign key&#x27;s type need to be <code>INTEGER</code>.</div></figure><p id="1da006d1-f439-4f12-919b-97d941cd4058" class="">
</p><p id="3d8e4bad-736b-44df-900a-3d445ba66c99" class="">
</p><p id="67c8ea13-f07a-489d-9934-5d3dcd609c0f" class="">primary key (one) <div class="indented"><p id="852806da-8b6b-490d-8d84-aa2368b33dcd" class="">→ foreign key (many)</p><p id="199da6ce-96f8-485b-9507-1e8e43b910b4" class="">→ foreign key (many)</p><p id="85cba963-77b3-41e9-848b-a28bd15b7474" class="">→ foreign key (many)</p></div></p><p id="350a2c14-c24e-4b1e-8ce9-8d0b576d5b3c" class="">
</p><pre id="b8c044e4-d40f-4215-aafa-0c319205a9ce" class="code"><code>CREATE TABLE cohorts (
  id SERIAL PRIMARY KEY NOT NULL,
  name VARCHAR(255) NOT NULL,
  start_date DATE,
  end_date DATE
);

CREATE TABLE students (
  id SERIAL PRIMARY KEY NOT NULL,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255),
  phone VARCHAR(32),
  github VARCHAR(255),
  start_date DATE,
  end_date DATE,
  cohort_id INTEGER REFERENCES cohorts(id) ON DELETE CASCADE
);

or ---------------------------------------------------------------

DROP TABLE IF EXISTS books;
DROP TABLE IF EXISTS authors;

CREATE TABLE authors(
   id INT GENERATED ALWAYS AS IDENTITY,
   author_name VARCHAR(255) NOT NULL,
   colour VARCHAR(20),
   num_books INT NOT NULL,
   PRIMARY KEY(id)
);

CREATE TABLE books(
   id INT GENERATED ALWAYS AS IDENTITY,
   author_id INT,
   book_name VARCHAR(255) NOT NULL,
   PRIMARY KEY(id),
   CONSTRAINT fk_author
      FOREIGN KEY(id)
	  REFERENCES authors(id)
);

---------------------------------------

CREATE TABLE pets (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  owner_id INTEGER NOT NULL REFERENCES users(id)
);</code></pre><p id="13decd3e-865c-4e22-8048-65ababd0a02b" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="0d75d8d2-8780-4ac9-a292-ae76e90aec4b"><div style="font-size:1.5em"><span class="icon">❗</span></div><div style="width:100%">Adding <code>ON DELETE CASCADE</code> to a foreign key ensures that the row will be deleted when the thing it is referencing is deleted.</div></figure><p id="7fc90225-eb74-4a61-b543-3b34c9cd1e0a" class="">
</p><h1 id="e7c16d66-3292-43ec-8665-9f6de83574df" class="">MIGRATION &amp; SEEDING</h1><hr id="54376775-86f8-4539-a542-c0139fe690f8"/><p id="485ca4f7-dfbe-4b86-a631-8cc097854ee0" class="">
</p><ul id="8e981720-5167-47e3-8a44-17648f02efbf" class="bulleted-list"><li style="list-style-type:disc">From your <code>psql</code> session, type <code>\i migrations/students_cohorts.sql</code><ul id="097a27d1-503d-40f0-82e1-2a26875f1ed8" class="bulleted-list"><li style="list-style-type:circle"><code>\i __file_path__</code> -relative</li></ul></li></ul><ul id="2f7ef6c8-89f9-4a3b-add5-5fe7a30895a6" class="bulleted-list"><li style="list-style-type:disc">Now enter <code>\dt</code> into your <code>psql</code> session to make sure the two tables have been created.</li></ul><p id="f8c3ad9b-f87c-4130-8005-0a1cbd1432cc" class="">
</p><p id="fc7bd59f-a418-4baa-b870-0bbfed112d4f" class="">a file of table structures is called a migration → i suppose its where the information is migrating to</p><p id="69fe182c-6adb-4b5e-9ca8-62523d118a78" class="">a file of nothing but insert into’s is called a seed. <div class="indented"><p id="ae3566cc-613e-4275-902d-140ee6d2eaae" class="">in both cases they are .sql files<div class="indented"><p id="bcbc2b37-8e50-4522-a167-13be99ba4203" class="">they are separated by the folder structure</p></div></p></div></p><p id="d7951c45-2af6-4c39-b5fb-f64efffc2844" class="">
</p><p id="4c925643-6757-4160-bf52-eb630f07f5b5" class="">
</p><p id="675e3da0-16ce-47f3-8603-d9cbe587878f" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="9edf425d-dc06-4e57-8c97-29fe78c20a93"><div style="font-size:1.5em"><span class="icon">❗</span></div><div style="width:100%">NOTE: when seeding and migrating, the order of the DDL’s really matter. start with the least dependent on foreign keys to the most dependent, otherwise it could cause errors: violating foreign_key., etc</div></figure><h1 id="552777bc-0523-465f-be0f-1b9bf5944780" class="">#INNER JOIN</h1><hr id="7f62e2d4-844e-4481-9900-c1ac2313c619"/><p id="7ca24b83-38de-44b9-8825-bd01c0dddc91" class="">
</p><p id="dbdc083c-0d41-4673-b876-68978a3b53d1" class="">
</p><p id="c23c3dc5-f784-459d-a27e-adf599a4e790" class="">
</p><blockquote id="06ad1ac4-f0da-44ac-8fd8-d7f8eb098fc2" class="">the most common use of join 99%</blockquote><p id="d4f56cd1-349f-4ea9-932d-b3dd51acbe55" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="f5d9334e-ec38-4aed-9712-0a742326381e"><div style="font-size:1.5em"><span class="icon">☝🏽</span></div><div style="width:100%">If the foreign key is <code>NULL</code>, the row will not be included in the result of an <code>INNER JOIN</code>.</div></figure><p id="56596a3d-9154-494a-b5c8-3918ce7d7270" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="22c7062b-ff84-4199-a8ea-356fc439fb89"><div style="font-size:1.5em"><span class="icon">💬</span></div><div style="width:100%">Database normalization has us distributing our data between multiple tables, so it&#x27;s very very common for a single query to access data stored in multiple tables.</div></figure><p id="de77ed2f-e69f-4ce3-a802-e5a4e93ed028" class="">
</p><figure id="22652e77-cbb6-44a7-b41f-382d92455696" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%201.png"><img style="width:1138px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%201.png"/></a></figure><p id="f5a29632-fa32-481f-ae6d-a3b0e5bf6426" class="">
</p><p id="7c42ec55-9cdf-42cd-9743-ddce0ef797ca" class="">
</p><p id="e6dc43f0-6603-43ad-9333-35ed9da1fb67" class="">To start using multiple tables in a query, we first have to <code>JOIN</code> them.</p><pre id="52cb05e0-ec67-4806-afeb-139e76db1ba6" class="code"><code>SELECT name, email, cohort_id
FROM students JOIN cohorts;</code></pre><p id="e0ffed18-d6f2-4fb1-8719-2b159179a30c" class="">once you join tables you can select columns from either table. <div class="indented"><p id="46c9eb00-e7ae-4e30-9bbc-94e498103958" class="">if a name is the same from both tables: you have to specify </p></div></p><pre id="9b24da86-d2dd-4fe9-bd9d-70627ce1b011" class="code"><code>SELECT students.name, email, cohorts.name
FROM students JOIN cohorts;</code></pre><p id="8c4de781-68ab-4023-a6bb-67ad0fea6227" class="">you can alias the names to look nicer</p><pre id="1e1907e5-96a7-401c-a869-00746db26b33" class="code"><code>SELECT students.name as student_name, email, cohorts.name as cohort_name
FROM students JOIN cohorts;</code></pre><p id="4fd087b5-7a6d-454a-837d-4cd71bc605b8" class="">
</p><p id="2ada1840-de44-4893-ba29-dd661cc4ae00" class="">
</p><p id="aa92f091-bc4e-4218-bd03-deecd7dbed27" class="">
</p><p id="c10bbff5-b9fb-4579-bcc7-0d64f1818305" class="">the <code>cohort_id</code> in the <code>students</code> table relates to the <code>id</code> in the <code>cohorts</code> table. We know that we can associate all of the data of a single student with a all of the data of a single cohort using this foreign key relation.</p><figure id="11be0eef-6d46-4d14-8b99-35ba67360fe2" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%202.png"><img style="width:1028px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%202.png"/></a></figure><p id="2fc07e04-065d-4bb1-b00e-31bf7b330b95" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="324311ee-4ffb-43fb-8225-d0ab066e6b59"><div style="font-size:1.5em"><span class="icon">ℹ️</span></div><div style="width:100%">An <code>INNER JOIN</code> will only give us rows where there is a match between the two tables. Any students with a <code>cohort_id</code> of <code>NULL</code> will not appear in the results of this kind of join.</div></figure><p id="13e44892-0fb3-4b51-b1eb-3a941b2e55c2" class="">
</p><p id="a9c5eaa1-664f-438b-8ca0-c616c4f78b0e" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="0022d037-b1f0-4b04-b03b-0ca25b2ee800"><div style="font-size:1.5em"><span class="icon">➡️</span></div><div style="width:100%">the database doesn&#x27;t know that we want to <code>JOIN</code> the tables using these columns. We <strong>must</strong> explicitly tell the database to join these two tables using the <code>cohort_id</code> from <code>students</code> and the <code>id</code> from <code>cohorts</code>. We do this with the <code>ON</code> keyword.</div></figure><p id="8a7564e8-3436-46cf-bc36-2027ccf62c69" class="block-color-orange_background">THIS IS HOW:<div class="indented"><pre id="8fd80e38-f571-4554-9f67-1fc876a70774" class="code"><code>SELECT students.name as student_name, email, cohorts.name as cohort_name
FROM students JOIN cohorts ON cohort_id = cohorts.id;</code></pre></div></p><p id="cf49aeb8-3e02-416a-9110-3ed0530135ea" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="e474c267-ab46-4dad-b635-61e66b53ba41"><div style="font-size:1.5em"><span class="icon">❗</span></div><div style="width:100%">Every <code>JOIN</code> <strong>must</strong> also have an <code>ON</code>.</div></figure><p id="6290cfb1-4ee4-4fa8-99c0-76a44b1a4b7f" class="">
</p><p id="a34ac1cf-d758-4299-b101-f0714aa0a296" class="">following the <code>ON</code> is the two columns that link the two tables: the foreign key and the primary key</p><p id="7a5407c2-955c-4539-8465-0fd89a09bba5" class="">
</p><p id="b698a8ef-080b-4247-9991-0f3aa6ef9213" class="">The order doesn’t matter</p><pre id="94fe6435-027c-41a8-a7a2-2f97b6416dd1" class="code"><code>SELECT students.name as student_name, email, cohorts.name as cohort_name
FROM cohorts JOIN students ON cohort_id = cohorts.id;

-- or like this works too

SELECT students.name as student_name, email, cohorts.name as cohort_name
FROM students JOIN cohorts ON cohorts.id = cohort_id;

-- or with the INNER keyword

SELECT students.name as student_name, email, cohorts.name as cohort_name
FROM students INNER JOIN cohorts ON cohorts.id = cohort_id;</code></pre><p id="fb281aaa-96f5-4b60-9677-4f1d35dc0df0" class="">
</p><p id="c7f99263-2eac-4f2d-816e-52796d054c26" class="">
</p><h1 id="cd695416-f619-4450-9e2a-9328b0433f7e" class="">#OUTER JOIN</h1><hr id="b85e9c0b-9aa6-4e4a-953b-1bf5513717ee"/><p id="e6c5ac70-2c19-44de-b42b-fa7470e3b661" class="">
</p><ul id="d829d36c-ae22-473f-a922-a0ac2d5c82bc" class="bulleted-list"><li style="list-style-type:disc">An <code>INNER JOIN</code> will only return results where there is a match between the two tables.</li></ul><ul id="e45d364a-2d35-4d1f-803f-8c83e9d6a878" class="bulleted-list"><li style="list-style-type:disc">An <code>OUTER JOIN</code> will do the same as an <code>INNER JOIN</code> but also returns unmatched rows in one or both tables. An <code>OUTER JOIN</code> can be <code>LEFT</code>, <code>RIGHT</code>, or <code>FULL</code>.</li></ul><p id="3fdaef9a-e453-4eea-a2dd-4f4ba8e790f8" class="">
</p><pre id="410d2271-45a9-4600-8bed-ecc48c7a627b" class="code code-wrap"><code>SELECT students.name as student_name, email, cohorts.name as cohort_name
FROM students [LEFT RIGHT FULL] OUTER JOIN cohorts ON cohorts.id = cohort_id;</code></pre><p id="eab159b3-9cc7-4a88-a8f0-8cd8034a62b0" class="">
</p><figure id="01248996-7807-4c2f-9584-486c45e56a3a" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%203.png"><img style="width:1178px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%203.png"/></a></figure><p id="dc054a9f-58ac-498f-b24b-2278764dc96c" class="">
</p><p id="4006c1c1-9210-40b5-aa8c-a07d38bfc149" class="">**an outer join is like null display management.. relative to the joining columns</p><ul id="3d5450a3-b421-4141-93f5-f0c0d38104b0" class="bulleted-list"><li style="list-style-type:disc">its displaying a match to the joined column</li></ul><p id="e8ec8435-8cd6-4d46-b8d6-984c66f7149d" class="">
</p><p id="ff101773-48c6-4ab7-addf-21890e0fa7b9" class="">An <code>OUTER JOIN</code> will join the tables similarly to an <code>INNER JOIN</code> but will return <strong>all</strong> results for <strong>one</strong> of the tables, even when the join condition is not met. <div class="indented"><p id="c191acc5-e894-43ce-8f5b-3d8a22e14542" class="">For any row where the condition was not met, a row is added with <code>NULL</code> data.</p><p id="4c18ee65-5e3b-4b6f-bd9f-8979f02680f9" class="">
</p></div></p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="325e27d1-9141-4a48-bbfb-58836552e382"><div style="font-size:1.5em"><span class="icon">☝🏽</span></div><div style="width:100%">changing the order of the tables changes the result of right join and left join</div></figure><p id="b47f5000-b733-4cb5-9fc4-f588b567b971" class="">
</p><p id="3ef6e239-dc76-4947-a209-062c35f5bd55" class="">
</p><figure id="12e5b143-2931-49ff-a8b6-5085cfd43ed2" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%204.png"><img style="width:1114px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%204.png"/></a></figure><p id="072e8550-999b-40d7-9dfd-9bf7bd113ad0" class="">
</p><p id="39d11f60-9ba8-4ce9-a9ad-7e6849cf613f" class="">
</p><p id="44428e80-4595-4acf-9ae8-806834e532ee" class="">
</p><h1 id="287416b2-0592-4918-ad2a-081b583d8a47" class="">#COLUMN DEFINITIONS</h1><hr id="7f75027d-fc6e-457d-803a-c39aedf260d8"/><p id="a09decc7-91a2-4f09-a70b-0b1b55415775" class="">
</p><p id="a880c973-c4f5-47f4-ac0a-60f0b28161d0" class="">TEXT+ → ?</p><p id="5803e2e2-df64-485e-84a9-3ff4804e371b" class="">
</p><p id="301b2613-3ab6-4a82-a693-37e4a5edcffc" class="">
</p><h1 id="8d4ad1bc-ee7e-44e9-b1b4-84e9819b0b19" class="">#PostgreSQL Subquery</h1><hr id="59d42c3b-1dc7-4f5c-95ad-b5424374e7a4"/><p id="22f1bfbc-bbd4-4a03-8e8f-119cdd4ed8a8" class="">
</p><p id="7007daa7-9240-4015-9a4f-5feb494e218d" class="">the trick is that you have to have the full subquery in the FROM section like its the only table that exists. AND you have to give it and alias so that you can refer to it in the parent SELECT statement.</p><p id="2581da88-8763-4229-9a3c-24bfeafc3a90" class="">
</p><h2 id="892609a5-026b-4767-a753-b8982a7cecbc" class=""><strong>As a column in </strong><code><strong>SELECT</strong></code></h2><pre id="0b3ffa62-c6d8-468c-9444-57f4eeff4053" class="code"><code>SELECT (
  SELECT count(*)
  FROM table_name
) as total, other_column
FROM other_table_name
ORDER BY total;</code></pre><p id="bb479aa2-8d7b-406e-af0b-51fdaf28f8c4" class="">
</p><h2 id="dd4dde65-054e-449e-bfba-62cf5b0a8b69" class=""><code><strong>FROM</strong></code><strong> sub select table</strong></h2><pre id="3054bf89-cb14-411b-b831-e2aee67538ac" class="code"><code>SELECT avg(cohort.total_duration) as average_total_duration

FROM (SELECT sum(completed_at - started_at) as total_duration
  FROM assistance_requests
  JOIN students ON students.id = student_id
  JOIN cohorts ON cohorts.id = cohort_id
  GROUP BY cohorts.name) as cohort;</code></pre><p id="18e7f7b2-cb9c-4d98-add7-55a444ca976f" class="">or</p><pre id="f168d924-f2b5-4cad-a8ac-b931d45514b2" class="code"><code>SELECT * FROM (
  SELECT something_id
  FROM someTable
  WHERE something
) as sub_table;</code></pre><p id="e2112913-1786-4dab-9ca2-05104c164ab2" class="">
</p><p id="930b8670-8a15-463b-90fe-77267980de0c" class="">
</p><h2 id="a9ccd144-0a79-4280-a687-6a3d0f139d99" class="">WHERE <code>IN</code></h2><p id="4c0a0654-5b95-47e2-b722-fd695f6abf50" class="">
</p><p id="f3b5c702-a85c-4400-b9f6-7e2906a77d78" class="">IN replaces a series of multiple OR conditionals.</p><p id="ec64b3bd-2d17-41fc-9233-40fef4991673" class="">
</p><p id="482c0ee0-c2f7-4013-bb82-4141a4275828" class="">This is the hard-coded version of what you will want to be accomlishing with the code after the following:</p><pre id="5b7323ea-d057-482b-b125-b5671cd0abab" class="code"><code>SELECT assignments.name
FROM assignments 
WHERE id NOT IN (1, 2, 3, 4, 5, ...)</code></pre><p id="d3d2f158-e3ba-47df-8333-08d264fdc170" class="">
</p><p id="5ba9e255-b948-47ba-9bea-171f0439b323" class="">the use-case example of the above theory:</p><pre id="163e28c9-332e-4a85-8179-4597c8229297" class="code"><code>SELECT assignments.name
FROM assignments 
WHERE id NOT IN
(
  SELECT assignment_id
  FROM assignment_submissions
  JOIN students ON students.id = student_id
  WHERE students.name = &#x27;Ibrahim Schimmel&#x27;
);</code></pre><p id="cb94c2ab-415c-49f5-8f70-ce10ae36908a" class="">
</p><p id="857d9e80-39f7-4aa5-af1c-eaf42b8b498f" class="">
</p><p id="3c180572-1844-4bb9-820d-4af221f0ef36" class="">
</p><p id="f8980649-4b98-4c10-abd8-6a87e2b28a59" class="">ALSO:</p><p id="6cbb1454-dbc2-43b2-815c-d35dc4388b40" class="">from the FROM sub query, you can pluck out things from the select line as their alias instead of object notation</p><p id="11732540-36af-4795-9c6d-909b5572766b" class="">
</p><pre id="40c75eed-0b28-4fc7-bbb0-e5427130513b" class="code"><code>SELECT avg (total_duration) as average_total_duration
FROM (
  SELECT cohorts.name as cohort, sum(completed_at-started_at) as total_duration
  FROM assistance_requests
  JOIN students ON students.id = student_id
  JOIN cohorts on cohorts.id = cohort_id
  GROUP BY cohorts.name
  ORDER BY total_duration
) as total_durations;</code></pre><p id="7c305e22-6dbf-457c-8262-5ba04e9b1591" class="">
</p><p id="ece55dd6-7841-4fc3-ab0b-32b22576ae94" class="">
</p><h1 id="ae6e0daf-e6b5-4c19-90a8-c8476467732e" class="">ERD conventions</h1><hr id="d1434b4e-e5e3-4896-8570-bc29af469b09"/><p id="8504be20-259c-4fb7-8348-868fc22f6347" class="">
</p><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="cc5bf6b3-4abb-4051-8f70-2a30496b4d77"><div style="font-size:1.5em"><span class="icon">☝🏽</span></div><div style="width:100%">always use an ERD before writing the code for your DB</div></figure><figure id="ce4be82f-b730-425a-bd3b-fcc4540d6d54" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%205.png"><img style="width:966px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%205.png"/></a></figure><p id="954c138c-6140-431a-9d18-9ad903f4dc85" class="">
</p><figure id="07b0bd69-9154-491b-bbac-d54aaffab615" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%206.png"><img style="width:1648px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%206.png"/></a></figure><p id="c39ff0f3-2da0-46b9-b1c6-867f8fd6a5f0" class="">
</p><p id="26691efd-49ae-4df5-a636-c64d4da205cd" class="">
</p><p id="951de22c-5a2a-473d-a522-e3ace58aa0a3" class="">
</p><p id="6b13a9fd-c95c-4c5e-ae05-e386d3797918" class="">Working on an ERD for lighthouse BNB. Finding it hard to make a decision. Just wondering how you are treating the tables and if you have any pointers.. Specifically I&#x27;m doubting if (a) having images in their own table is unnecessary (b) if the &#x27;property&#x27; and &#x27;property_detail&#x27; tables should be combined, or are they split for the right reasons.. <em>Note: I have an instinct to split those tables because the number of columns is getting long, but from what I&#x27;m reading about normalization, there is no real reason to split this table</em> -- unless I&#x27;m overlooking/misunderstanding something.</p><p id="170cdb98-92a5-44f6-9484-00869b5d3307" class="">
</p><p id="c20196de-9690-49ee-b57a-ef7f578aaeae" class="">
</p><h1 id="53312b4e-3ad7-4d57-8005-aa563cec62ae" class="">Data Definition Language {DDL}</h1><hr id="11cb8e0a-4245-4865-b09c-037c21dbff5b"/><p id="2bf7a63f-ab80-42c8-8ed7-c9d6d4fbf797" class="">
</p><ul id="224afacc-4c36-418b-8c33-2cf29ae17961" class="bulleted-list"><li style="list-style-type:disc">The SQL commands that we use to define the database schema<ul id="79dcb014-2d8d-4b0f-9054-1ea3ca614c32" class="bulleted-list"><li style="list-style-type:circle">CREATE, ALTER, DROP</li></ul><p id="ec574b0b-9f5f-499b-936c-03725a9fce4e" class="">
</p><p id="0baed12c-069a-4bba-836e-31da2a414f57" class="">
</p></li></ul><p id="26f12a2d-4cb1-4567-96f8-6f54ee4105d0" class="">
</p><h1 id="edba5b6d-1ecd-491a-a408-8bbcf09772de" class="">SQL injection</h1><hr id="b6a61287-6bab-4986-87d0-e5651eb3fb2f"/><p id="4e4bc2af-d415-4592-a2a5-c4e0b79ea611" class="">
</p><figure id="9213d407-b2a2-4ddd-a037-928948c1eb21" class="link-to-page"><a href="Framework%20&amp;%20Libraries%20a7e2b24bec50488f9bc614736667446d/PG%20-%20node%20postgreSQL%209213d407b2a24ddda037928948c1eb21.html"><span class="icon">🐜</span>PG - node postgreSQL</a></figure><p id="23daeaee-b8f7-4e7a-8fe0-a710b28dec74" class="">
</p><p id="6d7f1b39-b0a4-473b-aa80-21b86666934c" class="">
</p><p id="1822990f-d6ec-4c2a-9bcb-cf54e1294110" class="">
</p><h1 id="a66cead3-0ed1-4421-a4a0-dd823997beec" class="">SQL test</h1><hr id="303e995e-2a15-4001-ad3c-1f8c6678708e"/><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="5a4fc2dc-4213-479b-8ee0-acd89f562b76"><div style="font-size:1.5em"><span class="icon">☝🏽</span></div><div style="width:100%">read the requirements carefully</div></figure><blockquote id="3a0ad975-c0b5-45ba-9d1b-342b2857248e" class="">Do the queries incrementally</blockquote><p id="913e8f21-f155-4cac-8301-6fb9333751fe" class="">
</p><p id="9bbce623-ef8d-4466-9566-3ac81b1deb7e" class="">You can have a calculation to sort things out, but you dont have to return that calculation in the select column, you can jsut return a name based on a where clause or complex nested select.</p><p id="f130dc61-8451-46bd-9414-01e30515b81b" class="">per capita</p><pre id="b721b9f6-f39b-43ac-90cb-dd2fa14f1e50" class="code"><code>gdp / population
-- gross domestic product is divided by the individual domestic product</code></pre><p id="6d858fde-743a-4210-ba5a-7637be973e3a" class="">
</p><p id="962327ce-2465-4cbd-9035-b401f1272944" class="">use concat for things like % and $ for numerical answers</p><p id="7f66a237-4026-4ed0-8979-e7dda9cc4954" class="">
</p><p id="419108dd-a9f7-4fe6-ba3d-3c2cdccdfb8f" class="">-use ROUND() for percentages</p><p id="19a6db46-f631-4df9-9c93-bc009de70a86" class="">
</p><p id="9b0e0da6-da11-4173-a6a8-52211364c985" class="">percentage</p><pre id="787a57f6-8932-4083-a4d8-e91478815d88" class="code"><code>x percent of y
divide x by 100
multiply x by y</code></pre><p id="c4983357-3594-4ca9-baa9-0a82b2189689" class="">
</p><figure id="a6a19d3c-a26d-45bd-8248-fa9672d9ab80" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%207.png"><img style="width:848px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%207.png"/></a></figure><p id="f98f236f-f600-4dc2-b43d-c7e2e2308df9" class="">     </p><h2 id="2e8587b1-2a1b-47fe-a398-4c014c1ae42c" class="">some null values forced to 0</h2><pre id="c52295f7-0f50-4d09-bd1b-f8b02b8b7cf9" class="code"><code>SELECT name
  FROM world
 WHERE population &gt;= ALL(SELECT population
                           FROM world
                          WHERE population&gt;0)</code></pre><p id="1db4bf8c-7bc4-41a0-aa28-b3e56e234b7f" class="">
</p><p id="b786a0e8-24a4-4f0c-b8bf-5ec52fe81202" class="">
</p><p id="7cc17324-44ae-40c5-b2b0-cf4d5c3289af" class="">
</p><ul id="c32a7c99-b360-48eb-99c7-4e9e6ddf88d2" class="bulleted-list"><li style="list-style-type:disc">AND area at the end is a guard against null values when using ALL()</li></ul><ul id="4c8c6806-ff9d-47af-ba21-be9a9a63ea5c" class="bulleted-list"><li style="list-style-type:disc">the select operand column in the all statement should be one.. you are trying to get one value<ul id="6d328570-30df-47f5-ba77-8546f6b709c5" class="bulleted-list"><li style="list-style-type:circle">the alias for each for syncing is just put after from world</li></ul></li></ul><ul id="b4ebe913-6bfa-46e8-a4d0-b3ba540fbae3" class="bulleted-list"><li style="list-style-type:disc">the where in the nest is giving all the max areas almost like a complicated group by</li></ul><ul id="365ec019-0a84-4dde-83ae-b5f64c447372" class="bulleted-list"><li style="list-style-type:disc">where. area = area of a list where the continents match<ul id="cd9ed46f-4e54-4111-a3d5-5a4367c8b166" class="bulleted-list"><li style="list-style-type:circle">the outer select shows all the countries and continents and areas for all<ul id="93703081-78a1-4f95-9117-a20492ab29a3" class="bulleted-list"><li style="list-style-type:square">where the area is whittling down the results<ul id="56e42060-8a67-4e95-8a7e-d1339a202669" class="bulleted-list"><li style="list-style-type:disc">the criteria for areas whittling is the inner max area of a continent<ul id="60e76d69-2f0f-4061-91e8-1c72f7348272" class="bulleted-list"><li style="list-style-type:circle">then the other details attached to that matched are returned from the outer select<ul id="1e2cb486-4efd-4748-b59b-21bfa4b0133c" class="bulleted-list"><li style="list-style-type:square">it might be helpful to just use the correct syntax for now and just conceptualize it as a group by</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><figure id="18fca3ee-e1f3-4ec6-a848-c327f5359d96" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%208.png"><img style="width:750px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%208.png"/></a></figure><p id="26c43429-0376-40a6-b9ee-505b28de5b3e" class="">
</p><figure id="bee84e9c-215b-4192-83db-c57b06331391" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%209.png"><img style="width:627px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%209.png"/></a></figure><p id="47ed1dc6-13b9-4082-beb1-eb84073069c5" class="">what really helped here was writing it to return one hard-coded continent; then just replacing the continents with the alias from both worlds.. that plus thinking about when you are doing that it acts like a loop.</p><p id="eaf7e0f3-f896-4fa3-9daf-4e5c6f00a273" class="">
</p><p id="ce65a1a0-df82-46a4-beec-4a1b7f7e9b3b" class="">ADVICE:</p><p id="1ce2cccd-3ea8-44e8-bd3e-5d2c2865e0ad" class="">write a select tot get the value that you want to use in your where clause to tget the answer.. run it</p><p id="72b44a63-81d2-4d1f-9c36-0a0336276a92" class="">write the new query with that answer hard-coded; run it to make sure that you have the right answer. then paste in the previous select statement in place of that value.. like a variable or function that evaluates to a varibale that you want to use.. think of it alike that.</p><p id="59953962-5696-42ba-8285-1117af5e5738" class="">
</p><p id="77b18266-60c2-4e04-854b-e635f655d280" class="">and for the love of god please read the requirements of the question properly.</p><p id="bda5df94-685f-4aa8-85fa-ae0575663a18" class="">
</p><p id="f4949eee-14f7-48e3-a475-7cb304f0ae63" class="">
</p><p id="1b98641f-aa3f-46ac-84a5-cc713e0cb692" class="">this one is tricky, but it iswhere i ambeginning to solidify the concept of the NAY andd ALL operator</p><figure id="732a1bd8-0be8-442b-9029-1a76605f79f2" class="image"><a href="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%2010.png"><img style="width:768px" src="SQL%20d111f8f7ae5f47eeb395a8bd47b475ea/Untitled%2010.png"/></a></figure></div></article></body></html>